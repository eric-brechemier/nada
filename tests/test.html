<script src="test.js"></script>
<script src="assert.js"></script>
<script>
document.write( test(function(){

  var
    ERROR_MESSAGE = "Error Message",
    ERROR_PREFIX = "ERROR: ",
    EXPECTED_SUCCESS_MESSAGE = "SUCCESS",
    wasRun,
    actualMessage;

  var actualMessage = test(function(){
    throw new Error( ERROR_MESSAGE );
  });

  assert( actualMessage === ERROR_PREFIX + ERROR_MESSAGE,
                                         "thrown error must be caught and " +
                                 "error message reported with error prefix" );

  actualMessage = test(function(){
    wasRun = true;
  });

  assert(
    wasRun === true &&
    actualMessage === EXPECTED_SUCCESS_MESSAGE,
                                            "function to test must run and " +
                             "success must be reported with success message" );

}) );
</script>
